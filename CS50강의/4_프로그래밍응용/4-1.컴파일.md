# Topic1: 프로그래밍 언어로 작성된 프로그램을 컴퓨터는 어떻게 이해할까요?

### **컴파일(Compile)**

- 소스 코드를 오브젝트 코드로 변환시키는 과정
  - **소스 코드** = 프로그래밍 언어로 작성한 코드
  - **오브젝트 코드** = 기계 코드 (0, 1로 이뤄진 기계어)
- 소스코드 → **전처리기** → 소스파일 → **컴파일러** → 어셈블리어 → **어셈블러** → 오브젝트코드
  - 여러개의 파일로 이뤄진 경우, 이후에 '**링커** → 합쳐진 오브젝트코드' 단계까지 거침

### **전처리(Precompile)**

**컴파일의 전체 과정 (네 단계)**

1. **전처리**

   - 전처리기에 의해 수행
   - # 으로 시작되는 C 소스 코드는 전처리기에게 **실질적인 컴파일 전에 무언가를 실행**하라고 알려줌

     ex. `#include`는 전처리기에게 다른 파일의 내용을 포함시키라고 알려줌

     소스 코드에 `#include`  포함시 전처리기는 새로운 파일을 생성

     → 이 파일은 여전히 C 소스 코드 형태, `stdio.h` 파일 내용이 `#include` 부분에 포함됨

2. **컴파일(Compile)**

   - **컴파일러가** C → 어셈블리어로 컴파일
     - clang → 컴파일러
     - bash → 프롬프트 이름
     - a.out → 컴파일러 출력값 (실행시 결과 출력해줌)
   - **어셈블리어**
     - C보다 연산의 종류가 훨씬 적지만, 여러 연산들이 함께 사용되면 C에서 할 수 있는 모든 것 수행 가능

3. **어셈블(Assemble)**

- **어셈블리 코드 → 오브젝트 코드로 변환**시키는 단계
- CPU가 알아들을 수 있는 명령어 형태 (0,1)로 바꿔주는 작업
- **어셈블러가** 수행
- 소스 코드 중 오브젝트 코드로 컴파일될 파일이 딱 하나면, 컴파일 작업은 여기서 끝
  - 여러개면 '링크'라는 단계 추가

4. **링크(Link)**

- 프로그램이 (math.h, cs50.h와 같은 라이브러리 포함) 여러 개의 파일로 이루어져 있어 하나의 오브젝트 파일로 합쳐져야 하면 이 단계가 필요
- 링커가 수행
  - 여러 개의 오브젝트 코드 파일 → 실행 가능한 하나의 오브젝트 코드 파일로 합쳐줌
  - ex. 컴파일하는 동안 CS50 라이브러리를 링크하면 오브젝트 코드는 GetInt(), GetString() 같은 함수를 어떻게 실행할 지 알 수 있게됨
