# 7.1 컴퓨터의 기본 구조

> 컴퓨터는 명령에 따라 데이터를 조작하는 기계

핵심부품

- 메모리(RAM) = 컴퓨터가 수행할 명령어를 써넣는 공간, 연산 대상 데이터 보관소
- 프로세서(CPU) = 메모리에서 명령어, 데이터를 읽어 그에 맞는 계산을 하는 부품

## 메모리

**메모리에서 데이터 읽고 쓰기**

= 메모리셀을 한번에 하나씩 조작하는 연산 통해 수행

= 셀의 주소번호를 통해 정보를 주고받는 과정

**수많은 셀로 구성된 메모리**

- 셀 : 각각 미세한 양의 데이터를 저장
- 구별하기 위해 주소번호가 매겨져 있음

**메모리가 할 수 있는 일**

1. 읽기(셀의 값 구하기)
2. 쓰기(셀에 새 값 저장하기)

→ 동작모드 설정을 위한 특별한 입력 전선 존재

**메모리셀 하나는 보통 8bit (1byte)**

- 읽기 = 메모리가 셀에 저장된 바이트를 8가닥의 데이터 전선으로 출력
- 쓰기 = 전선들을 통해 바이트를 읽고, 지시된 셀에 써넣음

**버스(bus)**

- 한 덩어리의 데이터를 전송하는 전선 모음
  - 주소 버스 (주소전송에 쓰이는 전선 8가닥)
  - 데이터 버스 (메모리 셀과 데이터를 주고받는데 쓰이는 전선 8가닥)

## CPU

메모리에서 명령어, 데이터를 지속적으로 읽어들이고 출력값이나 중간계산을 메모리에 저장하기도 함

> 메모리 명령어를 끊임없이 가져와 수행하는 무한루프

**레지스터**

- CPU 자체 메모리 셀
- CPU는 레지스터에 저장된 수를 대상으로 간단한 연산 수행
  - ex. 메모리 220번 셀 데이터를 레지스터 3번으로 복사해라
  - ex. 레지스터 3번 수를 레지스터 1번 수에 더해라

**명령어 집합**

- CPU가 수행 가능한 모든 연산의 집합
  - 각 연산에는 번호가 있음
- 코드 = CPU연산을 나타내는 번호들을 실행순으로 나열한 것
  - 프로그램 실행시, 연산 번호들이 RAM에 저장됨
    - RAM에는 입출력 데이터, 중간 계산 데이터, 프로그램 코드 등이 저장됨
- 지원하는 연산은 점점 많아지는 중
- 어떤 복잡한 프로그램도 단순 연산들을 모아 나열한 것!

**프로그램 카운터(PC)**

- 다음에 수행할 명령어가 기록된 메모리의 주소를 가리키는 특별한 레지스터
- CPU가 명령을 수행하는 과정 (cycle)

  1. 프로그램 카운터가 가리키는 메모리 주소에서 명령어 가져오기
  2. 프로그램 카운터++
     - 점프 (1이 아닌값 증가시킬 수도 있음) → 연산목록을 순서대로 따르기만 하는게 아니라, 메모리 다른 지점으로 건너뛰도록 할 수도 있음
     - 분기를 조건부로 처리할 수도 있음 → 조건문
  3. 가져온 명령 수행
  4. 1단계로 돌아감

  ⇒ 전원 들어온 때부터 종료될 때까지 명령어 가져오고 실행하는 과정 반복

- CPU 전원이 들어오면, 프로그램 카운터가 기본값으로 설정됨
  - 기본값 = 수행할 첫번째 명령어가 저장된 주소
  - 보통 내장 프로그램 시작 위치

**CPU 클락**

- 클락 = 1초에 실행하는 기본 연산 개수
  - ex. 2MHz = 1초에 약 2백만개의 기본연산 수행
- 보통 기계어 명령 하나가 수행되는 데 필요한 기본 연산은 5~10개 정도

**CPU 아키텍처**

모바일 앱이 PC에서 실행되지 않는 이유?

- 컴퓨터들의 CPU 아키텍처가 서로 다르기 때문
- 요즘 개인용 컴퓨터는 대부분 x86 아키텍처 CPU를 사용
  - 휴대전화, 컴퓨터는 다르기도함 (전력 효율에 맞춰서 사용)
- CPU 아키텍처가 다르다 = CPU 명령어 집합이 다르다 = 명령어 번호가 다르다

**32bit 아키텍처, 64bit 아키텍처**

앞에 붙은 숫자 = 명령어 하나에 처리할 수 있는 bit수

- 최초의 CPU (intel4004)
  - 4bit 아키텍처 = CPU가 명령어 하나에 4자리까지 이진수를 연산할 수 있다
  - 데이터 버스, 주소 버스는 각각 4개의 전선으로 구성
- 32bit 아키텍처 = CPU 레지스터가 32bit 수를 수용할 수 있다
  - 레지스터가 커지면, 데이터버스/주소버스도 커져야함
  - 32개 선의 주소버스 → 2^32byte(4GB) 메모리까지 주소 부여 가능해짐
- 64bit 아키텍처
  - 극도로 큰 수도 처리 가능
  - 방대한 메모리 공간의 주소 저장 가능
  - 2^64bye = 170억 GB이상..

**리틀 엔디언, 빅 엔디언**

수열을 나열하는 방식

1. 리틀 엔디언
   - 메모리에 데이터를 왼 → 오로 저장
   - 대부분의 CPU 방식
2. 빅 엔디언
   - 메모리에 데이터를 오 → 왼으로 저장
   - 인터넷 트래픽

⇒ 엔디언 불일치 문제가 생기면, 조치가 필요

**에뮬레이터(emulator)**

- 다른 컴퓨터를 위해 설계된 코드를 실행하고 싶을 때 쓰는 프로그램
  - 다른 기계를 흉내내는 프로그램 (CPU, RAM ..등을 흉내냄)
  - 다른 기계를 위해 만들어진 프로그램 명령어를 해독해, 가상 기계 위에서 실행시킴
- ex. 모바일 게임 컴퓨터에서 하기
